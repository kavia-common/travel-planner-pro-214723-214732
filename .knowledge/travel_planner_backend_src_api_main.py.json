{"is_source_file": true, "format": "Python", "description": "This file initializes and configures the FastAPI application for the travel planning backend service. It sets up middleware, registers route modules for various resources (trips, destinations, itinerary, notes, reminders), and defines health check endpoints to monitor system and database status.", "external_files": ["src/api/routes/destinations", "src/api/routes/itinerary", "src/api/routes/notes", "src/api/routes/reminders", "src/api/routes/trips", "src/db/session"], "external_methods": ["get_db", "text", "SQLAlchemyError"], "published": ["app", "health_check", "api_health_check", "db_health_check"], "classes": [], "methods": [{"name": "health_check()", "description": "Endpoint for basic health check of the service, returns a simple 'Healthy' message.", "scope": "", "scopeKind": ""}, {"name": "api_health_check()", "description": "Endpoint to verify if the API is ready to accept requests, returning 'ok'.", "scope": "", "scopeKind": ""}, {"name": "db_health_check(db: Session = Depends(get_db))", "description": "Endpoint to check database connectivity by executing a trivial SQL statement and handling potential errors.", "scope": "", "scopeKind": ""}], "calls": ["app.include_router", "app.add_middleware", "app.get", "db.execute"], "search-terms": ["FastAPI initialization", "health check endpoints", "router registration", "SQLAlchemy database check", "CORS middleware setup"], "state": 2, "file_id": 2, "knowledge_revision": 49, "git_revision": "89209456d79bba69269e93df33dc2753fae4d454", "revision_history": [{"8": "a518ee0ec0e43de50aa829f1308121f2782da43f"}, {"22": "158bcdec041d76b19dbcbaac58f62641a7fad2e0"}, {"25": "dab40099262f9c79ab35527b0724b028609971f2"}, {"33": "418a0082a0e5d453fba93b922ce6902882fe00c2"}, {"38": "418a0082a0e5d453fba93b922ce6902882fe00c2"}, {"49": "89209456d79bba69269e93df33dc2753fae4d454"}], "ctags": [{"_type": "tag", "name": "api_health_check", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^def api_health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "db_health_check", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^def db_health_check(db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "destinations_router", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^from src.api.routes.destinations import router as destinations_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "itinerary_router", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^from src.api.routes.itinerary import router as itinerary_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "notes_router", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^from src.api.routes.notes import router as notes_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "reminders_router", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^from src.api.routes.reminders import router as reminders_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}, {"_type": "tag", "name": "trips_router", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-214723-214732/travel_planner_backend/src/api/main.py", "pattern": "/^from src.api.routes.trips import router as trips_router$/", "language": "Python", "kind": "unknown", "nameref": "unknown:router"}], "hash": "3e9f977b4083638502ca3f31ea2d383c", "format-version": 4, "code-base-name": "travel_planner_backend", "filename": "travel_planner_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}